<%- include("../shared/_header") %>

<div class="container mt-5" style="background-color: #f5f5f5; padding: 20px; border-radius: 10px;">
    <h1 style="color: #4CAF50;">User List</h1>

    <hr class="my-5" style="border-color: #4CAF50;">

    <a href="/users/new" style="color: #FF5722;">Create a new user</a>

    <table class="table table-striped table-bordered" style="background-color: #FFF176;">
        <thead>
            <tr>
                <th style="color: #E91E63;">First Name</th>
                <th style="color: #E91E63;">Last Name</th>
                <th style="color: #E91E63;">Email</th>
                <th style="color: #E91E63;">Nickname</th>
                <th style="color: #E91E63;">Avatar</th>
                <th style="color: #E91E63;">Last Updated</th>
                <th style="color: #E91E63;">Actions</th>
            </tr>
        </thead>

        <tbody>
            <% if (users && users.length > 0) { %>
                <% users.forEach(({ id, firstName, lastName, email, nickname, avatar, updatedAt }) => { %>
                    <tr>
                        <td style="color: #00BCD4;"><%= firstName %></td>
                        <td style="color: #00BCD4;"><%= lastName %></td>
                        <td style="color: #00BCD4;"><%= email %></td>
                        <td style="color: #00BCD4;"><%= nickname %></td>
                        <td>
                            <img class="img-thumbnail" style="max-width: 100px; max-height: 100px;" src="<%= avatar %>">
                        </td>
                        <td style="color: #00BCD4;"><%= updatedAt %></td>
                        <td>
                            <a href="/users/<%= id %>" style="color: #FF5722;">view</a> | 
                            <a href="/users/<%= id %>/edit" style="color: #FF5722;">edit</a> | 
                            <form action="/users/<%= id %>" method="post" onsubmit="return confirm('Are you sure you want to delete this card?')">
                                <input type="hidden" name="_method" value="delete">
                                <button class="standard-link" type="submit" style="color: #FF5722;">delete</button>
                            </form>
                        </td>
                    </tr>
                <% }) %>
            <% } %>
        </tbody>
    </table>
</div>

<%- include("../shared/_footer") %>
